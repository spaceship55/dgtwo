function hasScrolled(){var e=jQuery(this).scrollTop();Math.abs(lastScrollTop-e)<=delta||(e>lastScrollTop&&e>navbarHeight?jQuery("header").removeClass("down").addClass("nav-up"):e+jQuery(window).height()<jQuery(document).height()&&jQuery("header").removeClass("nav-up").addClass("down"),lastScrollTop=e)}function escapeNav(e){27===e.keyCode&&toggleNav()}function toggleNav(){document.querySelector(".js_toggle-nav").classList.toggle("nav-active"),document.body.classList.contains("nav-active")?(document.querySelector(".site-header__site-nav").classList.remove("nav-active"),setTimeout(function(){document.body.classList.add("nav-fade-out")},200),setTimeout(function(){document.body.classList.remove("nav-active","nav-fade-out")},400),document.removeEventListener("keydown",escapeNav)):(document.body.classList.add("nav-active"),setTimeout(function(){document.querySelector(".site-header__site-nav").classList.add("nav-active")},100),document.addEventListener("keydown",escapeNav,!1))}var didScroll,lastScrollTop=0,delta=5,navbarHeight=jQuery("header").outerHeight();jQuery(window).scroll(function(e){didScroll=!0}),setInterval(function(){didScroll&&(hasScrolled(),didScroll=!1)},250),function(){document.querySelector(".js_toggle-nav").addEventListener("click",function(){toggleNav()})}();